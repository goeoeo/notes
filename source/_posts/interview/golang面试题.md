---
title: golang面试题
categories: 
- interview
tags:
- golang
---

# rpc微服务框架
## 微服务之间如何进行通信？
* 单体项目时：一次服务调用发生在同一台机器上的同一个进程内部，也就是说调用发生在本机内部，因此也被叫作本地方法调用。
* 微服务项目时：服务提供者和服务消费者运行在两台不同物理机上的不同进程内，它们之间的调用相比于本地方法调用，可称之为远程方法调用，简称 RPC

## RPC了解多少？都有哪些？
受限语言的开源 RPC 框架   
* Dubbo (java)
* Motan (java)
* Tars (c++)
* Spring Cloud Feigh (java)

跨语言平台的开源 RPC 框架  
* GRPC：Google 2015 年开源，支持多种语言
* Thrift：最初Facebook 开发的内部框架，2007 年贡献给了 Apache 基金，成为 Apache 开源项目之一，支持多种语言。

## RPC包含哪些部分？
* 客户端和服务端建立网络连接模块( server模块、client模块 )
* 服务端处理请求模块
* 协议模块
* 序列化和反序列模块

## 设计一个RPC会考虑哪些问题?
* 客户端和服务端如何建立网络连接？
* 服务端如何处理请求？
* 数据传输采用什么协议？
* 数据该如何序列化和反序列化？

## 服务端如何处理请求？有哪些方式？
服务端接收到客户端的请求后，常见的处理方式有三种，分别是BIO、NIO和AIO。  
* **同步阻塞方式（BIO）** 客户端发一次请求，服务端生成一个对应线程去处理。当客户端同时发起的请求很多时，服务端需要创建多个线程去处理每一个请求，当达到了系统最大的线程数时，新来的请求就无法处理了。
* **同步非阻塞方式 (NIO)**  客户端发一次请求，服务端并不是每次都创建一个新线程来处理，而是通过 I/O 多路复用技术进行处理。就是把多个 I/O 的阻塞复用到同一个 select 的阻塞上，从而使系统在单线程的情况下可以同时处理多个客户端请求。这种方式的优势是开销小，不用为每个请求创建一个线程，可以节省系统开销。
* **异步非阻塞方式（AIO）**  客户端发起一个 I/O 操作然后立即返回，等 I/O 操作真正完成以后，客户端会得到 I/O 操作完成的通知，此时客户端只需要对数据进行处理就好了，不需要进行实际的 I/O 读写操作，因为真正的 I/O 读取或者写入操作已经由内核完成了。这种方式的优势是客户端无需等待，不存在阻塞等待问题。

> BIO 适用于连接数比较小的业务场景，这样的话不至于系统中没有可用线程去处理请求。这种方式写的程序也比较简单直观，易于理解。
> NIO 适用于连接数比较多并且请求消耗比较轻的业务场景，比如聊天服务器。这种方式相比 BIO，相对来说编程比较复杂。
> AIO 适用于连接数比较多而且请求消耗比较重的业务场景，比如涉及 I/O 操作的相册服务器。这种方式相比另外两种，编程难度最大，程序也不易于理解。 【来自网络】


  




<!--more-->

mq底层数仓
runtime包里面的方法
redis过期策略和内存淘汰策略
sql索引优化问题
一个update语句的执行过程
go的profile工具？
http和tcp有什么区别
用netstat看tcp连接的时候有关注过time_wait和close_wait吗？
fork的底层实现方式
go语言的时候垃圾回收，写代码的时候如何减少小对象分配
redis的存储结构？
实现map的方法除了哈希还有哪些？
redis的setnx底层怎么实现的？
go的gc原理了解吗？
gin框架的路由是怎么处理的？
mysql索引结构
B+树和B树有什么区别
sql查询性能瓶颈处理方式
sql索引优化方式，explain字段含义
gmp具体的调度策略
B+树细节优势，和哈希索引的区别，是为了解决什么问题？
事务四个特性四个隔离级别
httptime_wait状态分析
nginx负载均衡策略
es内部实现原理，如何保证数据一致性，如何降低压力
linux查看磁盘、io、内存情况的命令
分库分表联表查询有哪些方式
覆盖查询&回表查询
聚簇索引&非聚簇索引
go实现不重启热部署
go性能分析工具
tcp如何保证稳定性
http和http2区别
https的连接过程
kafka如何做到高可用
分布式锁如何实现
读扩散&写扩散
goroutine创建数量有限制吗？
go并发机制
线程协程区别
锁的可重入
常用限流算法
rpc调用过程
熔断降级开源框架
serviceMash
什么操作会影响联表查询效率
一个sql的查询过程
redis单线程是如何做到支持高并发的
IO多路复用
为什么内存操作很快
innoDB为什么支持事务
内存操作为什么很快
go内存操作也要处理IO，是如何处理的?
k8s各种组件
gomap并发安全问题，如何解决
gogc
一个进程能创建的线程数量受到哪些制约？
redis主从同步怎么做的
k8s组件及其作用
k8s基本操作
docker底层实现原理
docker基本操作
linux常用操作
linux内核
集群分布式
线程
etcd
grpc
kafka
es
数据库分库分表，啥时候分库啥时候分表
数据库的存储引擎有哪些，区别是啥
innodb索引用的是啥，为什么不用b+、红黑
事务的隔离级别
层序遍历二叉树
判断二叉树是否是镜像二叉树
堆排
中间件:kafka丢失消息和不重复消费
redis底层数据结构实现
mysql索引，mongodb和mysql索引的区别，给了条sql语句问索引怎么构建
golang:切片和数组、map、gc、gpm调度模型
高并发限流、熔断
对一个链表进行排序
mysql引擎知道哪些，有哪些索引，底层是怎么实现的
redis底层实现
给n个数1n，随机n次，将这n个数输出
线程和协程的区别
io多路复用，select\poll\epoll的实现和区别
三次握手和四次挥手
长连接和短链接(怎么实现的、区别以及应用场景)
计算二叉树所有左叶子节点的和
n对括号输出所有合法的情况
n个有序的数组合并成一个
GPM调度模型
协程和线程的区别，内核态和用户态
btree和b+tree
二叉树中序遍历，递归和非递归两种方式
kafka如何保证消息有序，消息的重复和丢失
http和https的区别，https建立连接的过程
http1.1和http2.0的区别
缓存和数据库一致性的问题
syncpool的实现原理
hash冲突解决办法，有什么弊端
map里面解决hash冲突怎么做的，冲突了元素放在头还是尾
10亿的url去重怎么做
rediszset怎么使用的，底层怎么实现的，适用于什么场景
单链表找到中间节点
设计一个秒杀系统
给定一个二叉树和其中的一个结点，请找出中序遍历顺序的下一个结点并且返回。注意，树中的结点不仅包含左右子结点，同时包含指向父结点的指针
while(tree){sleep(1)}这个会有什么问题
sleep底层实现原理
线上问题一般怎么排查，比如oom
手写LRU相关知识点：模拟，结构，增删改查
一个整型数组，数组中的一个或连续多个整数组成一个子数组。求所有子数组的和的最大值
docker和虚拟机区别
k8s底层原理
linux文件系统
网络七层模型和五层模型
数据库索引
MySQL优化（索引、分表分库）
最左匹配原则？问为什么有这个东西？
同一个协程里面，对无缓冲channel同时发送和接收数据有什么问题
channel和锁对比一下
channel的应用场景
slice和array区别
向为nil的channel发送数据会怎么样
map取一个key，然后修改这个值，原map数据的值会不会变化
Hash实现、冲突解决、应用
输入URL发生的整个网络过程
Redis怎么保证数据一致性
TCP流量控制、拥塞控制
TCP半连接队列
TCP半关闭状态
TCPTIME_WAIT状态
内核态、用户态
100枚硬币，其中有一枚硬币重量不一样，用天平秤怎么快速找到这一枚硬币
LRU缓存实现，要求set\get操作o(1)时间复杂度
TCP滑动窗口
一个SQL语句的执行过程
MVCC原理
ACID的涵义，MYSQL是如何保证的
缓存失效的几种场景，以及解决方案
缓存雪崩、击穿的解决方案
如何排查线上程序问题
protobuf为什么快
分布式系统优缺点，一致性是如何保证的
雪崩、穿透和击穿
最终一致性
mysql分布式id
mysql索引慢分析：线上开启slowlog，提取慢查询，然后仔细分析explain中tye字段以及extra字段，发生的具体场景及mysql是怎么做的
mysql分库分表平滑扩容方案
docker预热
gowaitgroup的坑
k8s原理
mysql隔离级别、sql慢查询
etcd原理
给一个栈，用另外一个栈实现排序
gostruct能不能比较
select可以用于什么
context包的用途
client如何实现长连接
主协程如何等其余协程完再操作
slice，len，cap，共享，扩容
map如何顺序读取
大文件排序
数据库如何建索引
tcp与udp区别，udp优点，适用场景
raft算法是那种一致性算法
一个请求到达pod的过程、configmap、dockerfile
二叉树遍历，非递归