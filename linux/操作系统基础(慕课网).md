### 计算机发展历史

#### 计算机发展路程
1. 电子管计算机
2. 晶体管计算机
3. 集成电路计算机
4. 超大规模集成电路计算机

#### 未来可能出现的计算机
1. 生物计算机
2. 量子计算机

#### 微型计算机的发展
1. 单核cpu,受限于性能,计算频率突破2GHz 
2. 多核cpu ,Intel酷睿系列可达到16核cpu ,Intel至强系列56核cpu
> 摩尔定律：价格不变时，集成电路上可容纳的元器件的数目，约每隔18-24个月便会增加一倍，性能也将提升一倍


### 计算机的分类

#### 1.超级计算机
* 功能最强、运算速度最快、存储容量最大的计算机
* 多用于国际高科技领域和尖端技术研究
* 运算速度需要达到1Tlop/s=每秒一万亿次浮点运算

#### 2.大型计算机
* 又称大型机、大型主机、主机等
* 具有高性能，可处理大量数据与复杂的运算
* 在大型计算机市场领域，IBM占据着很大的份额

#### 3.迷你计算机（服务器）
* 也称为小型机，普通服务器
* 不需要特殊的空调场所
* 具备不错的算力，可以完成较复杂的运算

#### 4.工作站
* 高端的通用微型计算机，提供比个人计算机更强大的性能
* 类似于普通台式电脑，体积较大，但性能强劲

#### 5.微型计算机
* 又称为个人计算机，是最普通的一类计算机
* 台式机、笔记本电脑、一体机

### 计算机的体系与结构


#### 冯洛伊曼体系
将程序指令和数据一起存储的计算机设计概念结构（1.存储程序指令 2.设计通用电路）
> 冯洛伊曼瓶颈 cpu和存储器速率之间的问题无法调和（cpu经常空转等待数据传输）

##### 冯洛伊曼体系结构
* 必须有一个存储器
* 必须有一个控制器
* 必须有一个运算器
* 必须有输入设备
* 必须有输出设备
> cpu=控制器+运算器

##### 冯洛伊曼体系工作原理
* 能够把需要的程序和数据送至计算机中
* 能够长期记忆程序、数据、中间结果、及最终运算结果的能力
* 能够具备算术、逻辑运算和数据传送等数据加工处理的能力
* 能够按照要求处理结果输出给用户



#### 现代计算机的结构
* 必须有一个存储器
* 必须有一个控制器
* 必须有一个运算器
* 必须有输入设备
* 必须有输出设备
> cpu=控制器+运算器+存储器
> 现代计算机结构可以理解为主要以存储器为核心

##### 存储器
* 磁带
* 硬盘
* 内存
* cpu的寄存器



### 计算机的层次与编程语言

#### 1.程序翻译和程序解释
* 计算机执行的命令都是L0
* 翻译过程生成新的L0程序，解释过程不生成新的L0程序（编译器）
* 解释过程由L0编写的解释器去解释L1程序 （解释器）

#### 2.计算机的层次结构
* 应用层 （虚拟机器）
* 高级语言层 （虚拟机器）
* 汇编语言层 （虚拟机器）
* 操作系统层 （虚拟机器 连接虚拟机器与实际机器）
* 传统机器层 （实际机器）
* 微程序机器层 （实际机器）
* 硬件逻辑层 （实际机器）



#### 3.计算机的计量单位

##### 3.1 容量单位 
bit Byte KB MB GB TB PB EB （8bit=1Byte）

##### 3.2速度单位 
* 网络常用单位为Mbps
* 100M/s=100Mbps=100Mbit/s 100Mbit/s=(100/8)MB/s=12.5MB/s

##### 3.3CPU速度
* CPU速度一般体现为CPU的时钟频率
* CPU的时钟频率的单位一般为赫兹Hz
* 主流CPU的时钟频率都在2GHz以上
* CPU时钟频率指每秒钟高低电频切换（0和1）的频率
> Hz是秒分之1  每秒钟的周期性变动重复次数的计量（振动频率）


#### 4.计算机编码集

* ASCII 编码集（7个bit表示）
* ASCII 扩展编码集（8个bit标识）
* GB2312 （中文编码，不符合国际ISO标准，以字节byte标识）
* GBK （中文编码集，支持中、韩、日文，符合估计ISO标准，以字节byte标识）
* UTF-*（统一码，支持所有的语言，其中utf-8,8代表以字节为单位进行标识）

##### 4.1 中文编码集
* 中国大陆的Windows系统默认使用GBK编码
* 编程推荐使用UTF-8编码

### 计算机组成

#### 1.计算机总线
##### 总线的概述
* 提供了对外连接的接口
* 不同设备可以通过USB（通用串行总线）接口进行连接
* 连接的标准，促使外围设备接口的统一

##### 总线分类
1.片内总线
  * 芯片内部的总线
  * 寄存器与寄存器之间
  * 寄存器与控制器、运算器之间

2.系统总线
  * 数据总线 一般与CPU位数相同（32位，64位）
     * 双向传输各个部件的数据信息
     * 数据总线的位数（总线宽度）是数据总线的重要参数
  * 地址总线 地址总线位数=n 寻址范围：0-2的n次方
     * 指定源数据或目的数据在内存中的地址
     * 地址总线的位数与存储单元有关
  * 控制总线
     * 控制总线是用来发出各种控制信号的传输线
     * 控制信号经由控制总线从一个组件发给另一个组件
     * 控制总线可以见识不同组件之间的状态（就绪、未就绪）
     
##### 总线的仲裁     
为了解决总线使用权的冲突问题

总线的仲裁方法
* 链式查询
   * 好处 电路复杂度低，仲裁方式简单
   * 坏处 优先级低的设备难以获得总线使用权
   * 坏处 对电路故障铭感
* 计时器定时查询
   * 仲裁控制器对设备编号并使用计数器累计计数
   * 接收到仲裁信号后，往所有设备发出计数值
   * 计数值与设备编号一致则获得总线使用权
* 独立请求
   * 每个设备均有总线独立连接仲裁器
   * 设备可单独向仲裁器发送请求和接受请求
   * 当同时收到多个请求信号，仲裁器有权按优先级分配使用权
   > 好处：响应速度快，优先顺序可动态改变 ；设备连线多，总线控制复杂

#### 2.计算机输入输出设备

##### 常见输入输出设备
* 字符输入设备
   * 键盘
   * 扫描仪 将图形信息转换为数字信号
* 图像输出设备
   * 显示器
   * 打印机
   * 投影仪
###### 输入输出接口的通用设计
* 数据线
* 状态线
* 命令线
* 设备选择线

###### CPU与IO设备的通信   
* 程序中断
   * 提供低速设备通知CPU的一种异步的方式
   * CPU可以高速运转同时兼顾低速设备的响应
* DMA(直接存储器访问)
   * DMA直接连接主存和IO设备
   * 当主存与IO设备交换信息时，不需要中断CPU
   * 可以提高CPU的效率
   
#### 3.计算机存储器

##### 存储器的分类

按存储介质分类
* 半导体存储器
   * 内存
   * U盘
   * 固态硬盘
* 磁存储器
   * 磁带
   * 磁盘
   
按存取方式分类
* 随机存储器（RAM）
   * 随机读取
   * 与位置无关
* 串行存储器
   * 与位置有关
   * 按顺序查找
* 只读存储器（ROM）
   * 只读不写
   
##### 存储器的层次结构
* 缓存（CPU寄存器）
* 主存（内存）
   * RAM （随机存取存储器：Random Access Memory）
   * RAM通过电容存储数据，必须隔一段时间刷新一次
   * 如果掉电，那么一段时间后将丢失所有数据
* 辅存（硬盘）
   * 先来先服务算法
   * 最短寻道时间优先
   * 扫描算法（电梯算法）
   * 循环扫描算法

cpu->缓存->主存->辅存 （cpu可直接和主存交换数据）
* 原理：局部性原理
* 实现：在CPU与主存之间增加一层速度快（容量小）的Cache
* 目的：解决CPU与主存速度不匹配的问题


##### 高速缓存的工作原理
* 字 是指存放在一个存储单元中的二进制代码组合
* 字块 存储在连续存储单元中而被看作是一个单元的一组字
> 命中率是衡量缓存的重要性指标 命中效率计算

字的地址包含两个部分
1. 前m位指定字块的地址
2. 后b位指定字在字块中的地址

##### 高速缓存的替换策略
* 随机算法
* 先进先出算法（FIFO） 类似于先进先出队列
* 最不经常使用算法（LFU） 需要额外的字块记录字块使用频率
* 最近最少使用算法（LRU）

#### 计算机的指令系统

##### 机器指令的形式

* 机器指令主要由两部分组成：操作码、地址码

* 操作码指明指令所要完成的动作
* 操作码的位数反映了机器的操作种类
* 地址码直接给出操作数或者操作数的地址
* 分三地址指令、二地址指令、一地址指令、零地址指令

##### 机器指令的操作类型
* 数据传输
   * 寄存器之间、寄存器与存储单元、存储单元之间传送
   * 数据读写、交换地址数据、清零置一等操作
* 算术逻辑操作
   * 操作数之间的加减乘除运算
   * 操作数的与或非等逻辑位运算
* 移位操作
   * 数据左移（乘2）、数据右移（除2）
   * 完成数据在算术逻辑单元的必要操作
* 控制指令
   * 等待指令、停机指令、空操作指令、中断指令等

##### 机器指令的寻址方式
指令寻址方式
* 顺序寻址
* 跳跃寻址
数据寻址方式
* 立即寻址（操作数直接位于指令当中）（速度快、地址码的位数限制操作数表示范围）
* 直接寻址（地址码存放的是操作数的地址）（寻址操作数简单、地址码位数限制操作数寻址范围）
* 间接寻址（地址码存储的是操作数地址的地址）（操作数寻址范围大、速度较慢）

#### 计算机的CPU
##### １.计算机的控制器
控制器是协调和控制计算机运行的
* 程序计数器
* 时序发生器
* 指令译码器
* 各种寄存器
   * 指令寄存器
   * 主地址寄存器
   * 主存数据寄存器
   * 通用寄存器
* 总线

##### 2.计算机的运算器
运算器是用来进行数据运算加工的
* 数据缓存器
   * 分为输入缓冲和输出缓冲
   * 输入缓冲展示存放外设送过来的数据
   * 输出缓冲展示存放送往外设的数据
* ALU
   * 算术逻辑单元，是运算器的主要组成
   * 常见的位运算（左右移，与或非等）
   * 算术运算（加减乘除等）
* 通用寄存器
    * 用于暂时存放或传送数据或指令
    * 可保存ALU的运算中间结果
    * 容量比一般专用寄存器要大
* 状态字寄存器
   * 存放运算状态（条件码、进位、溢出、结果正负等）
   * 存放运算控制信息（调试跟踪标记位、允许中断位等）
* 总线

###计算机组成原理　计算
* 二进制转换成十进制　按权展开法
* 十进制转换二进制　重复相除法（整数）　重复相乘法（小数）

有符号数与无符号数
* 原码表示法
    * 使用0表示正数、1表示负数
    * 规定符号位位于数值第一位
    * 表达简单明了，是人类最容易理解的表示法
    
* 二进制的补码表示法
    * 正数的补码是自己
    * 负数的补码=最大值-负数的绝对值
* 引进补码的目的
    * 减法运算复杂，希望找到使用正数替代负数的方法
    * 使用加法代替减法操作，从而消除减法 （在计算补码的过程中，还是使用的减法）
* 负数的反码等于原码除符号位外按位取反
* 负数的补码等于反码+1

* 判断溢出
    * 双符号位判断 计算结果双符号不同则为溢出
> -B[补]等于B[补]连同符号位按位取反，末位加一    

* 浮点数的加减法运算
    * 对阶
    * 尾数求和
    * 尾数规格化
        * 需要满足符号位与最高位不一致
        * 通过一般情况下都是左移
        * 双符号位不一致下需要右移（定点运算的溢出情况）
        * 右移的化则需要进行舍入操作
    * 舍入
        * 0舍1入法（二进制的四舍五入）
    * 溢出判断
        * 定点运算双符号位不一致则溢出
        * 浮点运算组要通过阶码的双符号位判断是否溢出（如果规格化后，阶码符号位不一致，则认为是溢出）
        
        

### 计算机组成原理实践

#### 双向链表的原理与实践

双向链表
    * 可以快速找到一个节点的下一个节点
    * 可以快速找到一个节点的上一个节点
    * 可以快速去掉链表中的某一个节点
    
    